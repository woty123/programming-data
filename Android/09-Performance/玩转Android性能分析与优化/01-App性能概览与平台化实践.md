# 2 App性能概览与平台化实践

## 2.2 性能优化有哪些难题

- 线上性能表现差
- 线上问题无从追查
- 性能优化的长期开销大（难以维持优化效果，反反复复）

### 线上表现差

- App 启动慢、卡顿、丢帧
- 内存占用高、抖动频繁
- 耗电、网络请求慢
- 崩溃率、异常率

### 线上问题无从追查

- 如何保证异常感知灵敏度
- 如何复原“案发”现场
- 如何快速“止血”成功
- 如何防止多次验证才能止血

### 性能优化的长期开销大

- 如何将问题扼杀于摇篮之中
- 优化效果如何长期保持

### 总结

性能优化需要做到：

- 性能优化好
- 线上问题易追查
- 长期投入小

## 2.3 App性能优化解决方案演进

- 项目初期-->壮大期-->项目成熟期
- 为什么要自建 APM？
- 深刻理解性能优化手段、思维发展历程
- 性能优化方案是一直进步的，项目不同阶段重心不一样

项目初期特点

- 需要快速占领市场
- 人力投入不够
- 只关心崩溃率，优化方案
- 没有排除问题手段

项目壮大期特点

- 指标采集，不够全和深入
- 接入成熟的 APM，排查手段单一
- 线下检测、优化方案不成熟

项目成熟期特点

- 重点关注性能问题、数据丰富、手段多样化
- 线上线下一整套完善解决方案（重点）
- 自建 APM，新产品可快速接入

线上线下各自特点

- 误区：对线上不重视
- 侧重点：线下预防、线上监控
- 方案不同：线下可用黑科技

为什么要自建 APM

- 成熟的 APM 通用，但不满足个性化需求
- 外部 APM 与内部系统难打通，带来的时间成本
- 数据必须掌握在自己手中

## 2.4 业界优秀的平台化实践初步认知

Crash 收集平台

- Bugly：
  - 数据采集、上报称功率高
  - 包含 Java、Native
- 听云：
  - 通用的性能方案，数据采集完善
  - 方便接入、但不满足个性化要求，数据隐患
  - 建议性能方案不成熟的阶段接入
- 自建解决方案
  - 数据安全
  - 满足个性化要求
